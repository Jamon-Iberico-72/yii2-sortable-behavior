function sortable(o,e,l){document.querySelectorAll(e).forEach(a=>{let t=document.createElement(l);if(l==="tr"){let e=document.createElement("td");e.setAttribute("colspan",100);t.appendChild(e)}a.appendChild(t);t.classList.add("d-dummy");a.addEventListener("dragstart",e=>{e.dataTransfer.effectAllowed="move";let r=e.target;if(r.tagName.toLowerCase()==l){r.classList.add("d-dragged");let t=r.nextElementSibling;[...a.children].forEach(e=>{e.classList.remove("d-dropped");if(e!=r&&e!=t){e.classList.add("d-drop");e.ondragenter=e=>{e.preventDefault();e.target.closest(l).classList.add("d-over")};e.ondragleave=e=>{e.preventDefault();e.target.closest(l).classList.remove("d-over")};e.ondragover=e=>{e.preventDefault()};e.ondrop=e=>{e.preventDefault();r.classList.add("d-dropped");a.insertBefore(r,e.target.closest(l));let t=[...a.children].indexOf(r);let d=r.dataset.key;fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-Token":document.querySelector('[name="csrf-token"]').content},body:`key=${d}&pos=${t}`})}}})}});a.addEventListener("dragend",e=>{[...a.getElementsByTagName(l)].forEach(e=>{e.classList.remove("d-drop");e.classList.remove("d-over");e.classList.remove("d-dragged");e.ondragenter=null;e.ondragleave=null;e.ondragover=null;e.ondrop=null})})})}